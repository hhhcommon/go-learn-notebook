# Go语言从入门到实践

## 第1章 初始 Go 语言

主要内容：

1. Go语言特性
2. 使用Go语言的开源项目
3. 安装Go语言开发包和搭建开发环境

## 第二章 Go 语言基本语法与使用

主要内容：

介绍了基本语法，如变量、各种常见的数据类型及常量，此外还介绍了 `Go 1.9` 版本中新添加的特性，即类型别名。

## 第三章 容器： 存储和组织数据的方式

本章介绍了 Go 语言编程算法中常用的容器，如数组、切片、映射，以及列表的创建、设置、获取、查询和遍历等操作。

## 第4章 控制流程

本章主要介绍了常见的条件判断、循环和分支语句，包括以下内容：

1. 条件判断（ `if` ）
2. 条件循环（ `for` ）
3. 键值循环（ `for range` ）
4. 分支选择（ `switch` ）
5. 跳转语句（ `goto` ）
6. 跳出循环（ `break` ）和继续循环（ `continue` ）

## 第5章 函数（ `function` ）

本章首先介绍了 Go 语言中较为基础的函数声明格式以及命名返回值特性；
然后介绍了 Go 语言中较为灵活的特性，即函数变量和匿名函数；
还介绍了一个战士操作与数据分离的示例： 字符串的链式处理，从而引出了函数闭包概念；
之后介绍了 Go 语言中最具特色的如下几个功能：

1. 延迟语句（ defer ）—— 将语句延迟到函数退出时执行。
2. 宕机（ panic ）—— 终止程序运行。
3. 宕机恢复（ recover ）—— 让程序从宕机中恢复。

## 第6章 结构体 （ struct ）

本章介绍了 Go 语言中最重要的概念：结构体。
首先讲解了结构体多种灵活的实例化和成员初始化方法；
接着使用面向对象和面向过程等思想，逐步介绍了 Go 语言中的方法及新的概念接收器；
然后使用游戏中经典的位置移动例子，展现了结构体的实际使用方法；
最后，使用大量例子介绍了结构体内嵌和类型内嵌内容，并在 JSON 数据的分离实例中体验了 Go 语言的内嵌结构体的强大功能。
本章中的经典例子：使用事件系统实现事件的响应和处理——展现 Go 语言的方法与函数的统一调用过程。

## 第7章（ interface ）

本章介绍了 Go 语言接口的如下几个知识点：

1. 声明接口；
2. 实现接口的条件；
3. 接口的嵌套组合；
4. 接口的转换；
5. 接口类型断言和类型分支——判断接口的类型；
6. 空接口。

本章中涉及的例子有：便于扩展输出方式的日志系统；
使用接口进行数据的排序；
使用空接口实现可以保存任意值的字典及实现有限状态机（ FSM ）等。

## 第8章 包（ package ）

本章首先介绍了构建工程的基础概念 GOPATH，接着介绍了包（ package ）的创建和导入过程与方法，以及能通知访问权限的导出包内表示符的方法。

本章给出了一个典型的工厂模式自动注册示例，介绍了多个包的定义和使用方法。

## 第9章 并发

本章讲解了 Go 语言汇总并发的两个重要概念：轻量级线程（ goroutine ）和通道（ channel ）。
首先介绍了 goroutine 的创建方法及一些和并发相关的概念， 便于读者理解 goroutine 和线程的区别与联系；
然后介绍了通道的声明、创建和使用方法，使用3个示例，即模拟远程过程调用（ RPC ）、使用通道响应计时器事件和 Telnet 回音服务器，来展示通道的实际使用方法；最后介绍了在并发环境下的同步处理方法，如使用互斥锁和等待组等，以及使用竞态检测提前发现并发问题。

## 第10章 反射

本章按照反射的类型分为两部分：反射类型对象（ reflect.Type ）和反射值对象（ reflect.Value ）。
首先介绍了反射类型的获取及遍历方法，同时介绍了反射类型对象获取结构体标签的方法；
接着介绍了反射值对象获取及修改值和遍历值等；最后通过使用反射将结构体串行化为 JSON 格式字符串的示例，介绍了反射在实际中的运用。

## 第11章 编译与工具

本章介绍了 Go 语言中常用的编译及工具指令，例如：

1. go build/go install ——编译及安装源码；
2. go get ——远程获取并安装源码；
3. go test ——单元测试和基准测试框架；
4. go pprof ——性能分析工具。

## 第12章 “避坑” 与技巧

本章首先介绍了作者多年使用 Go 语言的开发经验和技巧总结，以及一些使用 Go 语言中可能发生的错误及优化建议，
例如合理使用并发，在性能与灵活中做出取舍后再使用反射等；
接着介绍了 Go 语言中一个不为人知的特性—— map 的多键索引，利用该特性可以方便地对数据进行多个条件的索引；最后介绍了使用 Go 语言的 Socket 处理 TCP 粘包问题。

## 第13章 实战演练——剖析 cellnet 网络库设计并实现 Socket 聊天功能

本章介绍了 cellnet 网络库的基本特性、流程、架构及如下几个关键概念：

1. 连接管理；
2. 会话收发数据流程；
3. 事件队列；
4. 消息编码；
5. 消息元信息；
6. 接受和发送封包。

本章使用 cellnet 网络库实现了带有聊天功能的客户端和服务器。

